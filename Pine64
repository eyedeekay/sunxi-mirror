<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>Pine64 - linux-sunxi.org</title>
<meta charset="UTF-8"/>
<meta name="generator" content="MediaWiki 1.20.8"/>
<link rel="shortcut icon" href="/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="linux-sunxi.org (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="//linux-sunxi.org/api.php?action=rsd"/>
<link rel="copyright" href="http://creativecommons.org/licenses/by/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="linux-sunxi.org Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link rel="stylesheet" href="//linux-sunxi.org/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="//linux-sunxi.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*"/>
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style>
<script src="//linux-sunxi.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Pine64","wgTitle":"Pine64","wgCurRevisionId":17743,"wgArticleId":2531,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Devices","A64 Boards"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Pine64","wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"templateEditor":false,"templates":false,"preview":true,"previewDialog":false,"publish":false,"toc":false},"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":0,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});
/* cache key: sunxi-mw:resourceloader:filter:minify-js:7:7946f03af3782603db0ba9e475496170 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<link rel="canonical" href="http://linux-sunxi.org/Pine64"/>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Pine64 skin-vector action-view vector-animateLayout">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
 
<div id="content" class="mw-body">
<a id="top"></a>
<div id="mw-js-message" style="display:none;"></div>
 
<h1 id="firstHeading" class="firstHeading"><span dir="auto">Pine64</span></h1>
 
 
<div id="bodyContent">
 
<div id="siteSub">From linux-sunxi.org</div>
 
 
<div id="contentSub"></div>
 
 
<div id="jump-to-nav" class="mw-jump">
Jump to: <a href="#mw-head">navigation</a>, <a href="#p-search">search</a>
</div>
 
 
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table class="infobox" cellspacing="5" style="width:22em;">
<tr><th colspan="2" class="" style="text-align:center; font-size:125%; font-weight:bold; background: #dedede;">Pine64</th></tr>
<tr class=""><td colspan="2" class="" style="text-align:center;">
<a href="/File:Pine64_top.jpg" class="image"><img alt="Pine64 top.jpg" src="/images/thumb/f/f9/Pine64_top.jpg/250px-Pine64_top.jpg" width="250" height="141"/></a></td></tr><tr class=""><th scope="row" style="text-align:left;">Manufacturer</th><td class="" style="">
<a rel="nofollow" class="external text" href="http://www.pine64.com">Pine64</a></td></tr><tr class=""><th scope="row" style="text-align:left;">Dimensions</th><td class="" style="">
133<i>mm</i> x 80<i>mm</i> x 19<i>mm</i></td></tr><tr class=""><th scope="row" style="text-align:left;">Release Date</th><td class="" style="">
February 2016</td></tr><tr class=""><th scope="row" style="text-align:left;">Website</th><td class="" style="">
<a rel="nofollow" class="external text" href="http://wiki.pine64.org">Pine64 Wiki</a></td></tr><tr><th colspan="2" class="" style="text-align:center; background: #dedede;">Specifications</th></tr><tr class=""><th scope="row" style="text-align:left;">SoC</th><td class="" style="">
<a href="/A64" title="A64">A64</a> @ 1152MHz</td></tr><tr class=""><th scope="row" style="text-align:left;">DRAM</th><td class="" style="">
512MiB/1GiB/2GiB DDR3L @ 672MHz (Samsung K4B2G1646Q-BCK0 / <a href="/DDR3#K4B4G1646Q-HYK0" title="DDR3">Samsung K4B4G1646Q-HYK0</a> * 2 / <a href="/DDR3#K4B4G0846E" title="DDR3">Samsung K4B4G0846E</a> * 4)</td></tr><tr class=""><th scope="row" style="text-align:left;">NAND</th><td class="" style="">
none</td></tr><tr class=""><th scope="row" style="text-align:left;">Power</th><td class="" style="">
DC 5V @ 2A, 3.7V Li-Ion battery connector, Euler connector</td></tr><tr><th colspan="2" class="" style="text-align:center; background: #dedede;">Features</th></tr><tr class=""><th scope="row" style="text-align:left;">Video</th><td class="" style="">
HDMI (Type A - full)</td></tr><tr class=""><th scope="row" style="text-align:left;">Audio</th><td class="" style="">
3.5mm headphone/microphone plug</td></tr><tr class=""><th scope="row" style="text-align:left;">Network</th><td class="" style="">
(optional) WiFi 802.11 b/g/n (<a href="/Wifi#Realtek" title="Wifi">Realtek 8723BS</a>), 10/100/1000Mbps Ethernet (<a href="/Ethernet#Phyceiver" title="Ethernet">Realtek 8211E</a>) (plus version), 10/100Mbps Ethernet (<a href="/Ethernet#Phyceiver" title="Ethernet">Realtek 8201FN</a>) (non-plus version)</td></tr><tr class=""><th scope="row" style="text-align:left;">Storage</th><td class="" style="">
µSD</td></tr><tr class=""><th scope="row" style="text-align:left;">USB</th><td class="" style="">
2 USB2.0 Host</td></tr>
<tr class=""><th scope="row" style="text-align:left;">Other</th><td class="" style="">
DSI, CSI, TP, RTC</td></tr>
</table>
<p>The Pine64 is a cost-optimized board sporting <a href="/Arm64" title="Arm64">ARMv8 (64-bit ARM)</a> capable cores.
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Identification"><span class="tocnumber">1</span> <span class="toctext">Identification</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Different_models"><span class="tocnumber">1.1</span> <span class="toctext">Different models</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Sunxi_support"><span class="tocnumber">2</span> <span class="toctext">Sunxi support</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Current_status"><span class="tocnumber">2.1</span> <span class="toctext">Current status</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Images"><span class="tocnumber">2.2</span> <span class="toctext">Images</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#BSP"><span class="tocnumber">2.3</span> <span class="toctext">BSP</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Manual_build"><span class="tocnumber">2.4</span> <span class="toctext">Manual build</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#U-Boot"><span class="tocnumber">2.4.1</span> <span class="toctext">U-Boot</span></a>
<ul>
<li class="toclevel-4 tocsection-9"><a href="#Sunxi.2FLegacy_U-Boot"><span class="tocnumber">2.4.1.1</span> <span class="toctext">Sunxi/Legacy U-Boot</span></a></li>
<li class="toclevel-4 tocsection-10"><a href="#Mainline_U-Boot"><span class="tocnumber">2.4.1.2</span> <span class="toctext">Mainline U-Boot</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-11"><a href="#Linux_Kernel"><span class="tocnumber">2.4.2</span> <span class="toctext">Linux Kernel</span></a>
<ul>
<li class="toclevel-4 tocsection-12"><a href="#Sunxi.2FLegacy_Kernel"><span class="tocnumber">2.4.2.1</span> <span class="toctext">Sunxi/Legacy Kernel</span></a></li>
<li class="toclevel-4 tocsection-13"><a href="#Mainline_kernel"><span class="tocnumber">2.4.2.2</span> <span class="toctext">Mainline kernel</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Tips.2C_Tricks.2C_Caveats"><span class="tocnumber">3</span> <span class="toctext">Tips, Tricks, Caveats</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#Boot_sequence"><span class="tocnumber">3.1</span> <span class="toctext">Boot sequence</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#FEL_mode"><span class="tocnumber">3.2</span> <span class="toctext">FEL mode</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#SPI_NOR_Flash"><span class="tocnumber">3.3</span> <span class="toctext">SPI NOR Flash</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Expansion_headers"><span class="tocnumber">3.4</span> <span class="toctext">Expansion headers</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#AXP803_PMIC"><span class="tocnumber">3.5</span> <span class="toctext">AXP803 PMIC</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#CPU_clock_speed_limit"><span class="tocnumber">3.6</span> <span class="toctext">CPU clock speed limit</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#Serial_port_.2F_UART"><span class="tocnumber">4</span> <span class="toctext">Serial port / UART</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="#Pictures"><span class="tocnumber">5</span> <span class="toctext">Pictures</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href="#Pine64.2B_.282_GB.29"><span class="tocnumber">5.1</span> <span class="toctext">Pine64+ (2 GB)</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Pine64.2B_.281_GB.29"><span class="tocnumber">5.2</span> <span class="toctext">Pine64+ (1 GB)</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Pine64_.28512_MB.29"><span class="tocnumber">5.3</span> <span class="toctext">Pine64 (512 MB)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26"><a href="#See_also"><span class="tocnumber">6</span> <span class="toctext">See also</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#Manufacturer_images"><span class="tocnumber">6.1</span> <span class="toctext">Manufacturer images</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Identification"> Identification </span></h1>
<p>There is a pine cone like logo next to the uSD slot, also it says "Pine64" under the logo. Also on the SoC there is a quite prominent "A64" print.
</p><p>On the back of the device, the following is printed:
</p>
<pre>Designed in Silicon Valley, California. Built in Silicon Delta, China.</pre>
<p>The PCB has the following silkscreened on it:
</p>
<pre>A64-DB-Rev B
2015-12-17</pre>
<p>In android, under Settings-&gt;About Tablet, you will find:
</p>
<ul><li> Model Number: <i>Pine A64</i>
</li><li> Build Number: <i>tulip_t1-eng 5.1.1 LVY4BE 20151210 test-keys</i>
</li></ul>
<h2> <span class="mw-headline" id="Different_models"> Different models </span></h2>
<p>So far there are three different models:
</p>
<ul><li> The Pine64 with 512MB DRAM
</li><li> The Pine64+ with 1GB DRAM
</li><li> The Pine64+ with 2GB DRAM
</li></ul>
<p>The last two seem to be identical apart from the installed DRAM size. Differences between the Pine64 and the Pine64+ are:
</p>
<ul><li> The Pine64 only supports Fast Ethernet. So the PHY chip will be a Realtek 8201 instead of the 8211 on the bigger model. The 8211 speaks RGMII, while the 8201 is using the MII interface. This requires differences in the DT.
</li><li> The smaller model will lack the connectors for the touchscreen, LCD screen and the camera port.
</li></ul>
<h1> <span class="mw-headline" id="Sunxi_support"> Sunxi support </span></h1>
<h2> <span class="mw-headline" id="Current_status"> Current status </span></h2>
<p>There are Linux images using an updated and enhanced version of Allwinner's BSP kernel, that work reasonably well and provide a graphical GUI along with support for most features of the board.
</p><p>Upstream kernel support is work in progress, so far there is a "close-to-mainline" <a class="external text" href="https://github.com/apritzel/linux/commits/a64-v5">branch</a> (based on 4.7-rc1) which supports UART, MMC (uSD card), GPIO, I2C and Ethernet (missing USB and any kind of graphics or sound support). Out-of-the-box arm64 distributions boot reasonably well with this kernel.
</p><p>This <a class="external text" href="https://gist.github.com/apritzel/c92b38b069a645094bf8">firmware log and 4.4-rc kernel dmesg</a> provides some information about the system.
</p>
<h2> <span class="mw-headline" id="Images"> Images </span></h2>
<p><b>End Users</b>:
Here are links to current images that are community supported:
</p>
<ul><li> <a rel="nofollow" class="external text" href="https://www.pine64.pro/download.php?option=download&amp;optionid=33">Ubuntu by Longsleep (from Pine64.pro)</a>
</li><li> <a rel="nofollow" class="external text" href="https://www.pine64.pro/download.php?option=download&amp;optionid=35">Arch Linux image (not supported anymore)</a>
</li><li> <a rel="nofollow" class="external text" href="https://www.pine64.pro/download.php?option=download&amp;optionid=39">Debian Mate (from Pine64.pro)</a>
</li><li> <a rel="nofollow" class="external text" href="https://www.pine64.pro/download.php?option=download&amp;optionid=40">Debian XFCE (from Pine64.pro)</a>
</li></ul>
<p>(You should also cross-check the Wiki page that's linked under <a href="#Manufacturer_Images">Manufacturer Images</a>.)
</p>
<hr/>
<p><b>Developers</b>:
Get apritzel's github <a class="external text" href="https://github.com/apritzel/pine64">basic image</a> first. For instructions see the <i>README.md</i> in there for now.
</p><p>longsleep has also built a minimal Ubuntu image combined with the the BSP Kernel that can be downloaded <a rel="nofollow" class="external text" href="https://www.stdin.xyz/downloads/people/longsleep/pine64-images/ubuntu/">here</a>. You will find instructions <a rel="nofollow" class="external text" href="https://www.stdin.xyz/downloads/people/longsleep/pine64-images/ubuntu/README.txt">here</a> on how to set it up.
</p><p>This image is intended for developers and comes with the following:
</p>
<ul><li> BSP Linux Kernel 3.10.65+
</li><li> BSP U-Boot
</li><li> Ubuntu Ubuntu 16.04 (Xenial Xerus) aarch64
</li><li> HDMI at 1080P
</li><li> HDMI analog audio (alsa, pulseaudio)
</li><li> Ethernet (including 1000M)
</li><li> USB
</li><li> Wifi
</li></ul>
<h2> <span class="mw-headline" id="BSP"> BSP </span></h2>
<p>Allwinner's BSP contains an arm64 Linux kernel based on Linaro's LSK-3.10.65 (includes Linaro and Android patches). It has traces (commented or not-configured code parts) of nasty experiments (like entering the kernel in AArch64 EL3 or running in secure EL1). This released/leaked code does not exactly match what's on the provided Android images. The BSP kernel is entered in non-secure El1, thus denying any kind of virtualization (like KVM).
</p>
<h2> <span class="mw-headline" id="Manual_build"> Manual build </span></h2>
<p>You can build things for yourself by following our <a href="/Manual_build_howto" title="Manual build howto"> Manual build howto</a> and by choosing from the configurations available below.
</p>
<h3> <span class="mw-headline" id="U-Boot"> U-Boot </span></h3>
<h4> <span class="mw-headline" id="Sunxi.2FLegacy_U-Boot"> Sunxi/Legacy U-Boot </span></h4>
<p>The Allwinner provided BSP package contains U-Boot source code, which contains a 32-bit port based on the 2014.07 release. The code as in the tarball does not even compile, also the whole port is severely crippled, just enough to boot an Android system from MMC. Limitations include: missing booti support (no direct kernel image load, only Android kernel images can be used), no network support, only loading data from Android partitions (no filesystem support), completely non-standard DT bindings, no support for easy FDT loading, etc. For the complete rant see the Wiki history&#160;;-)
</p><p>However the existing code base was fixed and extended by longsleep to allow loading kernels directly (using booti and proper FDT support) and adding filesystem support, thus overcoming the most severe limitations. The most current code base can be found <a class="external text" href="https://github.com/longsleep/u-boot-pine64/commits/pine64-hacks">here</a>.
</p><p>At the moment this U-Boot version is required to boot BSP kernels.
</p>
<h4> <span class="mw-headline" id="Mainline_U-Boot"> Mainline U-Boot </span></h4>
<p>Basic support has been merged in 2016.05-rc1. It supports serial console and MMC (µSD card), but no Ethernet or USB yet. The <code>booti</code> command is supported to load Linux arm64 kernel images, also <code>bootefi</code> is available to launch Aarch64 EFI applications (like grub2).
</p><p>The port is a 64-bit version, so the Allwinner provided boot0/ATF pair will not boot this without further changes/patches. Also SPL support is still missing, because:
</p>
<ol><li> we are missing the required magic DRAM initialization bit to replace boot0's DRAM init code
</li><li> the SPL must run (or at least start) in AArch32 mode, since this is the state in which the boot ROM hands over execution.
</li></ol>
<p>There are possible solutions for both problems (especially the last one) and they should be available over time. This will eventually enable SPL support.
</p><p>To compile it, check out the latest U-Boot tree and use:
</p>
<pre>
$ export CROSS_COMPILE=aarch64-linux-gnu-
$ make pine64_plus_defconfig
$ make
</pre>
<p>You will want to use the resulting u-boot-dtb.bin file.
</p><p>You may want to use <a class="external text" href="https://github.com/apritzel/u-boot/commits/pine64">these additional fixes</a> on top.
</p>
<h3> <span class="mw-headline" id="Linux_Kernel"> Linux Kernel </span></h3>
<h4> <span class="mw-headline" id="Sunxi.2FLegacy_Kernel"> Sunxi/Legacy Kernel </span></h4>
<h4> <span class="mw-headline" id="Mainline_kernel"> Mainline kernel </span></h4>
<p>Mainline kernel support is work in progress. For a first experience, grab a <a class="external text" href="https://github.com/apritzel/pine64/raw/master/images/pine64_firmware-20160601.img.xz">firmware image</a> and flash it to a micro-SD card:
</p>
<pre># zcat pine64_firmware-20160601.img.xz | dd of=/dev/sdx bs=1M
</pre>
<p>(replacing sdx with the device name of your micro-SD card).
</p><p>This image contains Allwinner's boot0 (for initializing the DRAM), an ARM Trusted Firmware version (for 64-bit initialization, PSCI support and basic PMIC setup) and an upstream U-Boot, plus the device trees for both board variants.
</p><p>Then get the latest "close-to-mainline" kernel tree and build it (in an existing kernel tree):
</p>
<pre>$ git remote add a64 <a class="external free" href="https://github.com/apritzel/linux.git">https://github.com/apritzel/linux.git</a>
$ git fetch a64
$ git checkout -b a64-v5 a64/a64-v5
$ export CROSS_COMPILE=aarch64-linux-gnu-
$ ARCH=arm64 make clean defconfig
$ ARCH=arm64 make -j4 Image
</pre>
<p>Copy the built kernel image (from arch/arm64/boot/Image) to the first FAT partition of the micro-SD card. Then put this SD card into the Pine64 board, connect a serial console to either the Euler connector or the EXP headers and power the board. You will see the kernel being loaded and booted, but finally fail due to the missing root file system.
By creating a logical partition (sdx5) on that micro-SD card and populating it with an off-the-shelf arm64 root file system you should be able to log in and explore the system.
</p>
<h1> <span class="mw-headline" id="Tips.2C_Tricks.2C_Caveats"> Tips, Tricks, Caveats </span></h1>
<h2> <span class="mw-headline" id="Boot_sequence"> Boot sequence </span></h2>
<p>The A64 SoC is wired to come out of reset in 32-bit monitor mode. As other Allwinner devices, the A64 SoC starts executing BROM code (mapped at address 0), which is consequently ARM32 code. The complete BROM code can be found at address 0x2c00 and has a total length of 32KB. To enter FEL mode, power on the board without a SD card inserted. If the code does not detect a FEL condition, it will load 32KB from sector 16 (8 KByte) of the microSD card to SRAM and will execute this. At least the first instructions of this code need to be still 32-bit ARM code.
</p><p>The Allwinner firmware continues in 32-bit, loading U-Boot (32-bit also) from the microSD card at sector 38192 (19.096 KByte). It also loads a (hacked) version of ARM Trusted Firmware (ATF) into DRAM and code for the arisc management core into SRAM. Finally it does a <a rel="nofollow" class="external text" href="http://infocenter.arm.com/help/topic/com.arm.doc.ddi0500f/BABDHBEG.html">RMR write</a> to warm-reset the SoC in AArch64 execution state and jumps to the ATF entry point by putting its address in the <a rel="nofollow" class="external text" href="http://infocenter.arm.com/help/topic/com.arm.doc.ddi0500f/CIHIJEID.html">RVBAR register</a>. ATF will then initialize the boot core for non-secure execution and drop to non-secure AArch32 EL1 to run U-Boot.
</p><p>U-Boot then runs happily in 32-bit. Only just before it starts the kernel, it uses a custom smc service call back into (Allwinner's version of) ARM Trusted Firmware to hand over the kernel entry point. The ATF code will then return into _AArch64_ non-secure EL1, but using the provided kernel entry point instead of returning to U-Boot.
</p>
<h2> <span class="mw-headline" id="FEL_mode"> FEL mode </span></h2>
<p>The Pine64 board will fail over to <a href="/FEL" title="FEL">FEL mode</a> if it doesn't detect a card present in the µSD slot.
</p><p><a href="/File:Exclamation.png" class="image"><img alt="Exclamation.png" src="/images/c/c0/Exclamation.png" width="16" height="16"/></a> A tricky and potentially confusing part is that the only Micro USB receptacle (labelled as "POWER JACK") is used exclusively for providing power to the board, and is <u>not</u> connected to any USB controller in the SoC. The actual USB <b>OTG</b> controller in the SoC is connected to the <b>upper USB host receptacle</b>. So it needs a somewhat special USB cable (A male to A male) or an adapter (A male to Mini/Micro B female) to connect your Pine64 board to your desktop PC, which is running the <a href="/FEL/USBBoot" title="FEL/USBBoot">sunxi-fel</a> tool.
</p><p>As soon as you boot your Pine64 into FEL mode (remember, don't insert a SD card) you should find a new USB device:
</p>
<pre>   $ lsusb
   Bus 001 Device 005: ID 1f3a:efe8
</pre>
<pre>   $ ./sunxi-fel version
   AWUSBFEX soc=00001689(A64) 00000001 ver=0001 44 08 scratchpad=00017e00 00000000 00000000
</pre>
<h2> <span class="mw-headline" id="SPI_NOR_Flash"> SPI NOR Flash </span></h2>
<p>It should be possible to have an extra hardware accessory, pluggable into the Raspberry Pi compatible expansion header to add a small SPI NOR Flash on SPI0 pins. It can store a bootable firmware and provide all the <a class="external text" href="https://en.wikipedia.org/wiki/Server_Base_System_Architecture">fashionable "industry standards"</a> compatibility for running AArch64 server grade Linux distributions (not exactly now, but maybe some time in the future). The <a href="/Bootable_SPI_flash" title="Bootable SPI flash">Bootable SPI flash</a> page provides additional details.
</p>
<h2> <span class="mw-headline" id="Expansion_headers"> Expansion headers </span></h2>
<p>Documentation about the pin assignments and more specifications (like the physical dimensions of the board) can be found in the <a rel="nofollow" class="external text" href="http://wiki.pine64.org/index.php/Main_Page#Pine_A64_Hardware_PCB_information">Hardware section</a> of the <a rel="nofollow" class="external text" href="http://wiki.pine64.org/index.php/Main_Page">official Pine64 Wiki</a>.
</p>
<h2> <span class="mw-headline" id="AXP803_PMIC"> AXP803 PMIC </span></h2>
<p>The default voltages after cold boot seem to be at least a little bit off. For example, the voltage on the Euler connector's 3.3V pin is in fact 3.0V until the Allwinner's bootloader configures the PMIC (very likely the default voltage from DCDC1). It means that the U-Boot bootloader will have to configure AXP803 early and relying on the defaults is not a very good idea.
</p><p>The DRAM voltage is provided from DCDC5, which is set to 1.5V by default according to the AXP803 manual. Moreover, the AXP803 manual is explicitly recommending to use DCDC5 specifically for DRAM. This is safe even with 1.35V DDR3L chips, because they are <a rel="nofollow" class="external text" href="http://superuser.com/a/564205">compatible with 1.5V too</a>.
</p>
<h2> <span class="mw-headline" id="CPU_clock_speed_limit"> CPU clock speed limit </span></h2>
<p>The voltage-frequency table for Allwinner A64 can be found in FEX files included in the A64 SDK:
</p>
<pre>
; dvfs voltage-frequency table configuration
;
; max_freq: cpu maximum frequency, based on Hz
; min_freq: cpu minimum frequency, based on Hz
;
; lv_count: count of lv_freq/lv_volt, must be &lt; 16
;
; lv1: core vdd is 1.30v if cpu frequency is (1104Mhz, 1152Mhz]
; lv2: core vdd is 1.26v if cpu frequency is (1008Mhz, 1104Mhz]
; lv3: core vdd is 1.20v if cpu frequency is (816Mhz,  1008Mhz]
; lv4: core vdd is 1.10v if cpu frequency is (648Mhz,   816Mhz]
; lv5: core vdd is 1.04v if cpu frequency is (480Mhz,   648Mhz]
; lv6: core vdd is 1.04v if cpu frequency is (480Mhz,   648Mhz]
; lv7: core vdd is 1.04v if cpu frequency is (480Mhz,   648Mhz]
; lv8: core vdd is 1.04v if cpu frequency is (480Mhz,   648Mhz]
</pre>
<p>Based on the data from this table, 1152MHz @1.3V is the fastest cpufreq operating point. Additionally, the AXP803 PMIC uses 1.1V default voltage for DCDC2/DCDC3 (VDD-CPU). Which means that the the CPU can be safely clocked up to 816MHz before the PMIC is initialized.
</p>
<h1> <span class="mw-headline" id="Serial_port_.2F_UART"> Serial port / UART </span></h1>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="/File:Pine64_UART0.jpg" class="image"><img alt="" src="/images/thumb/3/39/Pine64_UART0.jpg/300px-Pine64_UART0.jpg" width="300" height="157" class="thumbimage"/></a> <div class="thumbcaption"><div class="magnify"><a href="/File:Pine64_UART0.jpg" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt=""/></a></div>Pine64 UART pins</div></div></div>
<p>The board connects 4 of the SoCs UART to easily accessible header pins. There is UART2 on the RPi connector, also UART3 and UART4 on the Euler connector.
UART0 is the main UART used by Allwinner's firmware for boot and debug messages and is accessible on pins 29 (TXD), 30 (RXD), 25/34 (GND) on the Euler connector (this is not mentioned in the official connector description). Alternatively you can use the UART0 on the EXP connector, accessible on pins 7 (TXD), 8 (RXD), 9 (GND). The RX pin on there is connected via a FET to the SoC's pin, so it prevents injecting power via this line.
</p><p>Using screen to connect to the UART0 for example on OS X:
</p>
<pre>   $ sudo screen /dev/cu.usbserial 115200
</pre>
<p>All of the UARTs use 3.3V voltage levels. Look at <a href="/UART" title="UART">UART howto</a> for further instructions.
</p><p>A connected UART cable is leaking power and this causes some annoyances. For example, unplugging and plugging back a power cable does not reboot the board cleanly. Thus ensuring the availability of a reset button is recommended for doing any reasonable software development.
</p><p>The board does not have a hardware reset button out of the box, but a button can be easily connected to the appropriate pin on the expansion connector. Also a standard micro switch (upright version) can be soldered on the board next to the USB sockets to ease early development&#160;;-)
</p>
<h1> <span class="mw-headline" id="Pictures"> Pictures </span></h1>
<h2> <span class="mw-headline" id="Pine64.2B_.282_GB.29"> Pine64+ (2 GB) </span></h2>
<ul class="gallery">
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:41px auto;"><a href="/File:20160401_210300.jpg" class="image"><img alt="20160401 210300.jpg" src="/images/thumb/e/ee/20160401_210300.jpg/120px-20160401_210300.jpg" width="120" height="68"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:41px auto;"><a href="/File:Pineplus2g-back.jpg" class="image"><img alt="Pineplus2g-back.jpg" src="/images/thumb/c/c1/Pineplus2g-back.jpg/120px-Pineplus2g-back.jpg" width="120" height="68"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
</ul>
<h2> <span class="mw-headline" id="Pine64.2B_.281_GB.29"> Pine64+ (1 GB) </span></h2>
<ul class="gallery">
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:41px auto;"><a href="/File:Pine64_top.jpg" class="image"><img alt="Pine64 top.jpg" src="/images/thumb/f/f9/Pine64_top.jpg/120px-Pine64_top.jpg" width="120" height="68"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="/File:Pine_64_5.jpg" class="image"><img alt="Pine 64 5.jpg" src="/images/thumb/e/eb/Pine_64_5.jpg/120px-Pine_64_5.jpg" width="120" height="90"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="/File:Pine_64_1.jpg" class="image"><img alt="Pine 64 1.jpg" src="/images/thumb/5/55/Pine_64_1.jpg/120px-Pine_64_1.jpg" width="120" height="90"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="/File:Pine_64_2.jpg" class="image"><img alt="Pine 64 2.jpg" src="/images/thumb/2/24/Pine_64_2.jpg/120px-Pine_64_2.jpg" width="120" height="90"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="/File:Pine_64_3.jpg" class="image"><img alt="Pine 64 3.jpg" src="/images/thumb/8/86/Pine_64_3.jpg/120px-Pine_64_3.jpg" width="120" height="90"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:30px auto;"><a href="/File:Pine_64_4.jpg" class="image"><img alt="Pine 64 4.jpg" src="/images/thumb/f/f1/Pine_64_4.jpg/120px-Pine_64_4.jpg" width="120" height="90"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:30.5px auto;"><a href="/File:Pine64_Powered_through_Euler_Connector.jpg" class="image"><img alt="Pine64 Powered through Euler Connector.jpg" src="/images/thumb/d/da/Pine64_Powered_through_Euler_Connector.jpg/120px-Pine64_Powered_through_Euler_Connector.jpg" width="120" height="89"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
</ul>
<h2> <span class="mw-headline" id="Pine64_.28512_MB.29"> Pine64 (512 MB) </span></h2>
<ul class="gallery">
<li class="gallerybox" style="width: 155px"><div style="width: 155px">
<div class="thumb" style="width: 150px;"><div style="margin:41px auto;"><a href="/File:Pine64_nonplus.jpg" class="image"><img alt="Pine64 nonplus.jpg" src="/images/thumb/d/d5/Pine64_nonplus.jpg/120px-Pine64_nonplus.jpg" width="120" height="68"/></a></div></div>
<div class="gallerytext">
</div>
</div></li>
</ul>
<h1> <span class="mw-headline" id="See_also"> See also </span></h1>
<p><a rel="nofollow" class="external text" href="http://wiki.pine64.org/index.php/Main_Page">wiki.pine64.org Further info on the hardware and firmware</a>
</p><p><a rel="nofollow" class="external text" href="http://forum.pine64.org/">forum.pine64.org Discussion on pine64</a>
</p><p><br/>
</p>
<h2> <span class="mw-headline" id="Manufacturer_images"> Manufacturer images </span></h2>
<p><a rel="nofollow" class="external text" href="http://wiki.pine64.org/index.php/Pine_A64_Software_Release">Pine A64 Android release and Linux BSP</a>
</p>
 
 
 
</div>  
 
<div class="printfooter">
Retrieved from "<a href="http://linux-sunxi.org/index.php?title=Pine64&amp;oldid=17743">http://linux-sunxi.org/index.php?title=Pine64&amp;oldid=17743</a>" </div>
 
 
<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="/Category:Devices" title="Category:Devices">Devices</a></li><li><a href="/Category:A64_Boards" title="Category:A64 Boards">A64 Boards</a></li></ul></div></div>  
<div class="visualClear"></div>
 
 
</div>
 
</div>
 
 
<div id="mw-head" class="noprint">
 
<div id="p-personal" class="">
<h5>Personal tools</h5>
<ul>
<li id="pt-anonuserpage"><a href="/User:162.158.76.107" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">162.158.76.107</a></li>
<li id="pt-anontalk"><a href="/User_talk:162.158.76.107" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
<li id="pt-createaccount"><a href="/index.php?title=Special:UserLogin&amp;returnto=Pine64&amp;type=signup">Create account</a></li>
<li id="pt-anonlogin"><a href="/index.php?title=Special:UserLogin&amp;returnto=Pine64" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
</ul>
</div>
 
<div id="left-navigation">
 
<div id="p-namespaces" class="vectorTabs">
<h5>Namespaces</h5>
<ul>
<li id="ca-nstab-main" class="selected"><span><a href="/Pine64" title="View the content page [c]" accesskey="c">Page</a></span></li>
<li id="ca-talk" class="new"><span><a href="/index.php?title=Talk:Pine64&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
</ul>
</div>
 
 
<div id="p-variants" class="vectorMenu emptyPortlet">
<h4>
</h4>
<h5><span>Variants</span><a href="#"></a></h5>
<div class="menu">
<ul>
</ul>
</div>
</div>
 
</div>
<div id="right-navigation">
 
<div id="p-views" class="vectorTabs">
<h5>Views</h5>
<ul>
<li id="ca-view" class="selected"><span><a href="/Pine64">Read</a></span></li>
<li id="ca-viewsource"><span><a href="/index.php?title=Pine64&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
<li id="ca-history" class="collapsible"><span><a href="/index.php?title=Pine64&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
</ul>
</div>
 
 
<div id="p-cactions" class="vectorMenu emptyPortlet">
<h5><span>Actions</span><a href="#"></a></h5>
<div class="menu">
<ul>
</ul>
</div>
</div>
 
 
<div id="p-search">
<h5><label for="searchInput">Search</label></h5>
<form action="/index.php" id="searchform">
<div>
<input type="search" name="search" title="Search linux-sunxi.org [f]" accesskey="f" id="searchInput"/> <input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton"/> <input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/> <input type='hidden' name="title" value="Special:Search"/>
</div>
</form>
</div>
 
</div>
</div>
 
 
<div id="mw-panel" class="noprint">
 
<div id="p-logo"><a style="background-image: url(//linux-sunxi.org/images/c/c5/Logo-155x155.png);" href="/Main_Page" title="Visit the main page"></a></div>
 
 
<div class="portal" id='p-navigation'>
<h5>Navigation</h5>
<div class="body">
<ul>
<li id="n-mainpage-description"><a href="/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
<li id="n-portal"><a href="/sunxi:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
<li id="n-recentchanges"><a href="/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
<li id="n-randompage"><a href="/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
<li id="n-help"><a href="/Help:Contents" title="The place to find out">Help</a></li>
</ul>
</div>
</div>
 
 
 
 
<div class="portal" id='p-tb'>
<h5>Tools</h5>
<div class="body">
<ul>
<li id="t-whatlinkshere"><a href="/Special:WhatLinksHere/Pine64" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
<li id="t-recentchangeslinked"><a href="/Special:RecentChangesLinked/Pine64" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
<li id="t-print"><a href="/index.php?title=Pine64&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
<li id="t-permalink"><a href="/index.php?title=Pine64&amp;oldid=17743" title="Permanent link to this revision of the page">Permanent link</a></li>
</ul>
</div>
</div>
 
 
 
</div>
 
 
<div id="footer">
<ul id="footer-info">
<li id="footer-info-lastmod"> This page was last modified on 21 June 2016, at 16:31.</li>
<li id="footer-info-viewcount">This page has been accessed 35,456 times.</li>
<li id="footer-info-copyright">Content is available under <a class="external" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a> unless otherwise noted.</li>
</ul>
<ul id="footer-places">
<li id="footer-places-privacy"><a href="/sunxi:Privacy_policy" title="sunxi:Privacy policy">Privacy policy</a></li>
<li id="footer-places-about"><a href="/sunxi:About" title="sunxi:About">About linux-sunxi.org</a></li>
<li id="footer-places-disclaimer"><a href="/sunxi:General_disclaimer" title="sunxi:General disclaimer">Disclaimers</a></li>
</ul>
<ul id="footer-icons" class="noprint">
<li id="footer-copyrightico">
<a href="http://creativecommons.org/licenses/by/3.0/"><img src="/skins/common/images/cc-by.png" alt="Creative Commons Attribution" width="88" height="31"/></a>
</li>
<li id="footer-poweredbyico">
<a href="//www.mediawiki.org/"><img src="/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31"/></a>
</li>
</ul>
<div style="clear:both"></div>
</div>
 
<script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script src="//linux-sunxi.org/load.php?debug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","ext.cite"], null, true);
}</script>
<link rel="stylesheet" type="text/css" href="/extensions/SyntaxHighlighter/styles/shCore.css"></link>
<link rel="stylesheet" type="text/css" href="/extensions/SyntaxHighlighter/styles/shThemeDefault.css"></link>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/XRegExp.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushBash.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushDiff.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushIni.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushXml.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushJava.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushCpp.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushPlain.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushPhp.js"></script>
<script type="text/javascript" src="/extensions/SyntaxHighlighter/scripts/shBrushPython.js"></script>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<script src="//linux-sunxi.org/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-33223122-1");
pageTracker._trackPageview();
</script> 
</body>
</html>
